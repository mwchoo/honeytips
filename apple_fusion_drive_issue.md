2021-01-19 Minwoo Choo  
  
# Fusion Drive를 사용하는 iMac 문제 발생시 원인과 대처 방법  
  
아이맥 5K가 두 차례나 고장난 원인을 드디어 찾아내어 터득한 대처방법을 공유합니다.  
인터넷에도 정보가 없어 고생했네요...  
  
우선, 제가 쓰는 iMac은 2019 Early iMac 5k '27 (i5 3.0GHz 6C6T, 16GB, 1TB HDD) 입니다.  
**Fusion Drive를 사용하는 iMac에서 다음과 같은 문제가 발생할 수 있습니다.**  
```
1. 유선/무선 키보드 모두 오작동 (키맵 이상해짐 -> 비밀번호 입력 불가로 로그온 불가) -> 복구OS에서 애플 ID 이용하여 비밀번호 1111로 초기화 후 부팅은 성공
2. SMC, NVRAM 초기화 동작하지 않음, 복구모드/부팅스토리지 선택 단축키도 먹히지 않음, 복구모드 진입불가
3. 심각한 프리징이 간헐적으로 발생하며, 이때 재부팅하면 해당 이슈 발생함
4. 마이그레이션 실행시 "사용자 인증을 위한 자격증명을 가져올 수 없습니다." 오류가 뜨면서 진행 불가
5. "'<apple 계정>'에 문제가 있어 이 Mac에서 Apple 미디어 서비스에 연결할 수 없습니다." 오류 발생
6. 수차례 재부팅 후 부팅마저 불가능해짐(폴더에 물음표 뜬 아이콘 깜박거리면서 부팅 디스크를 찾지 못함)
```
  
**파악한 문제 발생 원인입니다.**  
```
1. Fusion Drive가 원인불명으로 구성이 깨져서 발생한 문제입니다.
2. 부팅, 복구모드 진입 모두 불가능하여 Big Sur install USB를 만들어서 USB 이미지 내 복구모드 진입하였습니다. USB 제작 외 다른 방법은 불가능합니다.
3. Fusion Drive 구성이 풀려있는 것을 발견하여 다시 설정하였습니다.
4. Fusion Drive 초기화 후 OS를 설치하였습니다.
```
   
위 과정 후, OS 정상 부팅 및 문제가 되는 증상이 사라졌음을 확인하였으나 과거에도 동일한 증상으로 문제가 발생했다는 점을 보아,  
내부 스토리지를 기존 32GB PCI-e SSD + 1TB HDD 구성 대신, 단일 SSD를 사용하여 Fusion Drive를 구성하지 않으면 문제가 해결될 것으로 보입니다.  
이 문제의 가장 무서운 점은 Fusion Drive 구성이 원인불명으로 풀리면 내부 데이터는 모두 포기해야합니다...  
그냥 Fusion Drive 다시 묶고 디스크 초기화하는 수밖에 없어요..  
언제 다시 이런 문제가 발생할지 모르고요. 정확히 어떤 동작을 할때 버그가 재현되는지는 모르겠습니다.  
그러니 되도록이면 Fusion Drive를 안쓰는 것이 안정성에는 좋지 않나 싶습니다.  
  
**Fusion Drive에 대한 설명**  
기존 HDD의 느린 속도를 보완하기 위해 저용량의 SSD를 OS 저장용 & 주로 쓰는 파일, app 저장용으로 사용하도록 두 개의 스토리지를 macOS 상에서 논리적으로 묶어서 쓰는 기술입니다.  
HDD가 장착된 iMac에서는 Fusion Drive가 기본 설정되어있습니다.  
